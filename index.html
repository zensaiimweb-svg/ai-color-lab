<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI COLOR LAB PRO | ì •ë°€ ì§„ë‹¨ ì‹œìŠ¤í…œ</title>
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@100;300;400;600;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #FF3548;
            --bg-black: #0a0a0a;
            --card-bg: #151515;
            --text-gray: #aaa;
            --spring: #feb2b2;
            --summer: #bee3f8;
            --autumn: #f6ad55;
            --winter: #b794f4;
        }

        /* ê³µí†µ ë ˆì´ì•„ì›ƒ */
        body { background-color: var(--bg-black); color: #fff; font-family: 'Pretendard', sans-serif; margin: 0; line-height: 1.6; }
        .wrapper { max-width: 800px; margin: 0 auto; padding: 40px 20px; }
        header { text-align: center; margin-bottom: 50px; }
        h1 { font-weight: 100; letter-spacing: 10px; font-size: 2.5rem; margin: 0; }
        .sub-title { color: var(--text-gray); font-size: 0.9rem; letter-spacing: 2px; }

        /* ì¹´ë“œ ë° ì»¨í…Œì´ë„ˆ */
        .card { background: var(--card-bg); border-radius: 30px; padding: 40px; border: 1px solid #222; margin-bottom: 30px; transition: 0.3s; }
        .step-content { display: none; }
        .step-content.active { display: block; animation: slideUp 0.6s ease; }
        @keyframes slideUp { from { opacity:0; transform: translateY(30px); } to { opacity:1; transform: translateY(0); } }

        /* ì…ë ¥ UI */
        .input-group { margin-bottom: 25px; text-align: left; }
        label { display: block; font-size: 0.8rem; margin-bottom: 10px; color: var(--primary); font-weight: 600; }
        input[type="number"], input[type="file"] {
            width: 100%; padding: 18px; background: #222; border: 1px solid #333; 
            border-radius: 12px; color: #fff; box-sizing: border-box; font-size: 1rem;
        }
        .main-btn {
            width: 100%; padding: 20px; background: #fff; color: #000; border: none; 
            border-radius: 15px; font-weight: 900; cursor: pointer; font-size: 1.2rem; transition: 0.3s;
        }
        .main-btn:hover { background: var(--primary); color: #fff; transform: scale(1.02); }

        /* ë“œë ˆì´í•‘ ëª¨ë“ˆ */
        #draping-canvas { position: relative; width: 100%; max-width: 400px; margin: 0 auto; border-radius: 20px; overflow: hidden; border: 5px solid #222; }
        #user-img { width: 100%; display: block; }
        .drape-cloth { position: absolute; bottom: 0; left: 0; width: 100%; height: 45%; mix-blend-mode: multiply; transition: 0.5s; }
        .ox-btns { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 30px; }
        .ox-btn { padding: 25px; border-radius: 15px; border: none; font-size: 1.5rem; cursor: pointer; color: #fff; transition: 0.2s; }
        .btn-o { background: #2d3748; border: 2px solid #48bb78; }
        .btn-x { background: #2d3748; border: 2px solid #f56565; }
        .ox-btn:active { transform: scale(0.95); }

        /* í”„ë¡œê·¸ë ˆìŠ¤ ë°” */
        .progress-container { width: 100%; height: 6px; background: #222; border-radius: 10px; margin-top: 20px; }
        .progress-bar { height: 100%; background: var(--primary); border-radius: 10px; width: 0%; transition: 0.3s; }

        /* ë¦¬í¬íŠ¸ ì„¹ì…˜ */
        .report-header { text-align: center; margin-bottom: 40px; }
        .result-title { font-size: 3.5rem; font-weight: 900; margin: 10px 0; background: linear-gradient(to right, #fff, var(--primary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .badge { display: inline-block; padding: 5px 15px; border-radius: 50px; background: var(--primary); font-size: 0.8rem; margin-bottom: 10px; }
        
        .grid-stats { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 30px 0; }
        .stat-item { background: #1a1a1a; padding: 20px; border-radius: 20px; border: 1px solid #222; }
        .stat-val { font-size: 1.8rem; font-weight: 900; display: block; }
        .stat-label { font-size: 0.7rem; color: var(--text-gray); text-transform: uppercase; }

        .analysis-box { background: #1e1e1e; padding: 30px; border-radius: 25px; margin-top: 20px; border-left: 5px solid var(--primary); text-align: left; }
        .color-palette { display: flex; gap: 10px; margin: 20px 0; overflow-x: auto; padding-bottom: 10px; }
        .palette-chip { width: 60px; height: 60px; border-radius: 15px; flex-shrink: 0; }

        .detail-info { display: grid; grid-template-columns: 1fr; gap: 15px; text-align: left; }
        .info-row { border-bottom: 1px solid #222; padding: 15px 0; }
        .info-row b { color: var(--primary); display: block; margin-bottom: 5px; }

        footer { margin-top: 60px; color: #444; font-size: 0.8rem; text-align: center; }
    </style>
</head>
<body>

<div class="wrapper">
    <header>
        <h1>AI COLOR LAB</h1>
        <p class="sub-title">PERSONAL COLOR SCIENTIFIC ANALYSIS</p>
    </header>

    <div id="step-1" class="step-content active">
        <div class="card">
            <h2 style="font-weight: 300;">Step 01. <span style="font-weight: 900;">Sensor Data</span></h2>
            <p style="color: var(--text-gray); margin-bottom: 30px;">3nh ì¸¡ìƒ‰ê¸°ì—ì„œ ë„ì¶œëœ ì ˆëŒ€ ìˆ˜ì¹˜ë¥¼ ì…ë ¥í•˜ì‹­ì‹œì˜¤.</p>
            
            <div class="input-group">
                <label>L* (BRIGHTNESS / 0~100)</label>
                <input type="number" id="lab-l" placeholder="ì˜ˆ: 68.5" step="0.1">
            </div>
            <div class="input-group">
                <label>A* (REDNESS / -128~127)</label>
                <input type="number" id="lab-a" placeholder="ì˜ˆ: 14.2" step="0.1">
            </div>
            <div class="input-group">
                <label>B* (YELLOWNESS / -128~127)</label>
                <input type="number" id="lab-b" placeholder="ì˜ˆ: 18.9" step="0.1">
            </div>
            <button class="main-btn" onclick="toStep2()">ë°ì´í„° ì „ì†¡ ë° ë‹¤ìŒ ë‹¨ê³„</button>
        </div>
    </div>

    <div id="step-2" class="step-content">
        <div class="card">
            <h2>Step 02. <span style="font-weight: 900;">Visual Identity</span></h2>
            <p style="color: var(--text-gray);">ì´ë¯¸ì§€ì™€ ìˆ˜ì¹˜ë¥¼ ë§¤ì¹­í•˜ê¸° ìœ„í•´ ì •ë©´ ì‚¬ì§„ì„ ì—…ë¡œë“œí•˜ì„¸ìš”.</p>
            <input type="file" id="image-upload" accept="image/*" onchange="handleImage(event)">
            <div id="preview-area" style="margin-top: 20px; display: none;">
                <img id="temp-img" style="width: 100%; border-radius: 15px;">
                <button class="main-btn" style="margin-top: 20px;" onclick="toStep3()">20ë‹¨ê³„ ì •ë°€ ë“œë ˆì´í•‘ ì‹œì‘</button>
            </div>
        </div>
    </div>

    <div id="step-3" class="step-content">
        <div class="card" style="padding: 20px;">
            <div id="draping-canvas">
                <img id="user-img" src="">
                <div id="cloth" class="drape-cloth"></div>
            </div>
            <div class="progress-container">
                <div id="pg-bar" class="progress-bar"></div>
            </div>
            <p id="color-info" style="margin-top: 15px; font-weight: 600;"></p>
            
            <div class="ox-btns">
                <button class="ox-btn btn-x" onclick="vote(false)">âœ– BAD</button>
                <button class="ox-btn btn-o" onclick="vote(true)">âœ” GOOD</button>
            </div>
        </div>
    </div>

    <div id="step-4" class="step-content">
        <div class="report-header">
            <span class="badge">AI ANALYSIS COMPLETE</span>
            <div id="res-season" class="result-title">ANALYZING...</div>
            <p id="res-summary" style="color:var(--text-gray); max-width: 500px; margin: 0 auto;"></p>
        </div>

        <div class="grid-stats">
            <div class="stat-item">
                <span id="stat-l" class="stat-val">0</span>
                <span class="stat-label">Brightness Index</span>
            </div>
            <div class="stat-item">
                <span id="stat-temp" class="stat-val">0</span>
                <span class="stat-label">Warmth Ratio</span>
            </div>
        </div>

        <div class="analysis-box">
            <h3 style="margin-top:0;">ğŸ¨ Best Color Palette</h3>
            <div id="palette" class="color-palette"></div>
            <p style="font-size:0.85rem; color:#ccc;">ìœ„ íŒ”ë ˆíŠ¸ëŠ” ê³ ê°ë‹˜ì˜ L*a*b* ìˆ˜ì¹˜ì™€ ë“œë ˆì´í•‘ O/X ë°˜ì‘ë„ë¥¼ AIê°€ êµì°¨ ë¶„ì„í•˜ì—¬ ë„ì¶œí•œ ìµœì ì˜ ë°°ìƒ‰ì…ë‹ˆë‹¤.</p>
        </div>

        <div class="card detail-info" style="margin-top:30px;">
            <div class="info-row">
                <b>ğŸ’„ ë©”ì´í¬ì—… ê°€ì´ë“œ</b>
                <span id="guide-makeup"></span>
            </div>
            <div class="info-row">
                <b>ğŸ‘— íŒ¨ì…˜ ìŠ¤íƒ€ì¼ë§</b>
                <span id="guide-fashion"></span>
            </div>
            <div class="info-row">
                <b>ğŸ’‡ í—¤ì–´ & ì£¼ì–¼ë¦¬</b>
                <span id="guide-hair"></span>
            </div>
            <div class="info-row">
                <b>âœ¨ í–¥ìˆ˜ (Vibe)</b>
                <span id="guide-perfume"></span>
            </div>
        </div>

        <button class="main-btn" onclick="location.reload()">ìƒˆë¡œ ì¸¡ì •í•˜ê¸°</button>
        <button class="main-btn" style="background:var(--primary); color:#fff; margin-top:15px;" onclick="window.print()">ë¦¬í¬íŠ¸ PDF ì €ì¥í•˜ê¸°</button>
    </div>

    <footer>
        AI COLOR RESEARCH CENTER KOREA<br>
        ë³¸ ë¦¬í¬íŠ¸ëŠ” 3nh PS110 í•˜ë“œì›¨ì–´ì™€ AI COLOR LAB ì•Œê³ ë¦¬ì¦˜ì— ì˜í•´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.
    </footer>
</div>

<script>
    /* ë°ì´í„° ì •ì˜ */
    const drapeList = [
        { name: "Pure White", hex: "#FFFFFF", type: "C" }, { name: "Creamy Yellow", hex: "#FFFDD0", type: "W" },
        { name: "Cool Navy", hex: "#000080", type: "C" }, { name: "Warm Camel", hex: "#C19A6B", type: "W" },
        { name: "Shocking Pink", hex: "#FC0FC0", type: "C" }, { name: "Coral Orange", hex: "#FF7F50", type: "W" },
        { name: "Icy Sky Blue", hex: "#87CEEB", type: "C" }, { name: "Olive Khaki", hex: "#808000", type: "W" },
        { name: "Classic Rose", hex: "#FB607F", type: "C" }, { name: "Peach Puff", hex: "#FFDAB9", type: "W" },
        { name: "Royal Purple", hex: "#7851A9", type: "C" }, { name: "Deep Tomato", hex: "#FF6347", type: "W" },
        { name: "Mint Frost", hex: "#E5F9F6", type: "C" }, { name: "Golden Honey", hex: "#FFC000", type: "W" },
        { name: "Silver Gray", hex: "#C0C0C0", type: "C" }, { name: "Brick Red", hex: "#AA4A44", type: "W" },
        { name: "Lavender", hex: "#E6E6FA", type: "C" }, { name: "Mustard", hex: "#E1AD01", type: "W" },
        { name: "Charcoal", hex: "#36454F", type: "C" }, { name: "Terracotta", hex: "#E2725B", type: "W" }
    ];

    const typeDetails = {
        "Spring Light": {
            summary: "ë°ê³  í™”ì‚¬í•œ ë³µìˆ­ì•„ë¹› ìƒê¸°ë¥¼ ë¨¸ê¸ˆì€ íƒ€ì…ì…ë‹ˆë‹¤. íˆ¬ëª…ê°ì´ ìƒëª…ì…ë‹ˆë‹¤.",
            makeup: "í´ë¦¬ì–´í•œ ì½”ë„ ë¦½, íˆ¬ëª…í•œ ê¸€ë¡œìŠ¤, ê°€ë²¼ìš´ ë² ì´ì§€ ë² ì´ìŠ¤.",
            fashion: "ì•„ì´ë³´ë¦¬, íŒŒìŠ¤í…” í†¤ì˜ ë‹ˆíŠ¸, ê°€ë²¼ìš´ ì‹œí° ì†Œì¬.",
            hair: "ë°€í¬ ë¸Œë¼ìš´ í—¤ì–´, ë¡œì¦ˆê³¨ë“œ ì•¡ì„¸ì„œë¦¬.",
            perfume: "ì‹œíŠ¸ëŸ¬ìŠ¤, í”„ë£¨í‹° í”Œë¡œëŸ´ ê³„ì—´.",
            colors: ["#FFFDD0", "#FFDAB9", "#F0FFF0", "#FFEFD5", "#FFFACD"]
        },
        "Spring Bright": {
            summary: "ì„ ëª…í•˜ê³  ì—ë„ˆì œí‹±í•œ ê³ ì±„ë„ ì»¬ëŸ¬ê°€ ì–¼êµ´ì˜ ì´ëª©êµ¬ë¹„ë¥¼ ì‚´ë ¤ì£¼ëŠ” íƒ€ì…ì…ë‹ˆë‹¤.",
            makeup: "ë¹„ë¹„ë“œí•œ ì˜¤ë Œì§€ ë ˆë“œ ë¦½, ê³¨ë“œ í„ ì„€ë„ìš°.",
            fashion: "ì„ ëª…í•œ ì˜ë¡œìš°, ì• í”Œ ê·¸ë¦° í¬ì¸íŠ¸, ì—ë‚˜ë©œ ì†Œì¬.",
            hair: "ì˜¤ë Œì§€ ë¸Œë¼ìš´, ìœ ê´‘ ê³¨ë“œ ì•¡ì„¸ì„œë¦¬.",
            perfume: "ìŠ¤íŒŒí´ë§í•œ ìëª½, ìƒí¼í•œ ë² ë¥´ê°€ëª» ê³„ì—´.",
            colors: ["#FF7F50", "#FFC000", "#FF4500", "#ADFF2F", "#FFFF00"]
        },
        "Summer Light": {
            summary: "ì—¬ë¦„ ì•„ì¹¨ì˜ ì•ˆê°œì²˜ëŸ¼ ì‹œì›í•˜ê³  ë¶€ë“œëŸ¬ìš´ íŒŒìŠ¤í…”í†¤ì´ ì¡°í™”ë¡œìš´ íƒ€ì…ì…ë‹ˆë‹¤.",
            makeup: "ë”¸ê¸°ìš°ìœ ë¹› í•‘í¬ ë¦½, ë¼ë²¤ë” ë¸”ëŸ¬ì…”, ë§¤íŠ¸í•œ ë² ì´ìŠ¤.",
            fashion: "ìŠ¤ì¹´ì´ ë¸”ë£¨, ë¼ë²¤ë” ë¦°ë„¨ ì…”ì¸ , ë¶€ë“œëŸ¬ìš´ ì½”íŠ¼.",
            hair: "ì• ì‰¬ ê·¸ë ˆì´, ì‹¤ë²„ ì•¡ì„¸ì„œë¦¬.",
            perfume: "í”„ë ˆì‰¬ ì½”íŠ¼, ì€ë°©ìš¸ê½ƒ í–¥ê¸°.",
            colors: ["#E6E6FA", "#87CEEB", "#F0F8FF", "#FFB6C1", "#E0FFFF"]
        },
        "Summer Mute": {
            summary: "ì°¨ë¶„í•˜ê³  ì§€ì ì´ë©° ì˜¤ë¬˜í•œ íšŒìƒ‰ê¸°ê°€ ì„ì¸ ì»¬ëŸ¬ê°€ ìš°ì•„í•¨ì„ ê·¹ëŒ€í™”í•©ë‹ˆë‹¤.",
            makeup: "ë§ë¦° ì¥ë¯¸(MLBB) ë¦½, ìŒì˜ ì„€ë„ìš°, ì¿¨ ê·¸ë ˆì´ ì•„ì´ë¼ì´ë„ˆ.",
            fashion: "ì¸ë”” í•‘í¬, ë¸”ë£¨ ê·¸ë ˆì´ ì½”íŠ¸, ìŠ¤ì›¨ì´ë“œ ì†Œì¬.",
            hair: "ë‹¤í¬ ì• ì‰¬ ë¸Œë¼ìš´, ë¬´ê´‘ ì‹¤ë²„ ì•¡ì„¸ì„œë¦¬.",
            perfume: "ìš°ë”” í”Œë¡œëŸ´, ì”ì”í•œ íŒŒìš°ë”ë¦¬ í–¥.",
            colors: ["#B19CD9", "#9370DB", "#708090", "#BC8F8F", "#D8BFD8"]
        },
        "Autumn Mute": {
            summary: "ê°€ì„ í–‡ì‚´ ì•„ë˜ ë¶€ë“œëŸ½ê³  ë”°ëœ»í•œ í™ë‚´ìŒì´ ëŠê»´ì§€ëŠ” ë®¤íŠ¸ íƒ€ì…ì…ë‹ˆë‹¤.",
            makeup: "ëˆ„ë“œ ë² ì´ì§€ ë¦½, ì¹´ë©œ ì„€ë„ìš°, ì„¸ë¯¸ ë§¤íŠ¸ í”¼ë‹ˆì‹œ.",
            fashion: "ì˜¤íŠ¸ë°€, ì¹´í‚¤ìƒ‰ ê°€ë””ê±´, ë‚´ì¶”ëŸ´í•œ ë¦°ë„¨.",
            hair: "ì¹´ë¼ë©œ ë¸Œë¼ìš´, ì—”í‹± ê³¨ë“œ ì•¡ì„¸ì„œë¦¬.",
            perfume: "ìƒŒë‹¬ìš°ë“œ, ë°”ë‹ë¼ ë¬´ìŠ¤í¬.",
            colors: ["#F5F5DC", "#C19A6B", "#808000", "#BC8F8F", "#DEB887"]
        },
        "Autumn Deep": {
            summary: "ê¹Šê³  í’ë¶€í•œ ê³ ëª…ë„ì˜ ë”¥ ì»¬ëŸ¬ê°€ ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ë¶„ìœ„ê¸°ë¥¼ ì™„ì„±í•©ë‹ˆë‹¤.",
            makeup: "ì¹ ë¦¬ ë ˆë“œ ë¦½, ë”¥ ë¸Œë¼ìš´ ìŠ¤ëª¨í‚¤, ê³¨ë“œ í•˜ì´ë¼ì´í„°.",
            fashion: "ë²„ê±´ë””, ë”¥ ê·¸ë¦° ë²¨ë²³, ê°€ì£½ ì†Œì¬.",
            hair: "ë‹¤í¬ ì´ˆì½” ë¸Œë¼ìš´, ë³¼ë“œí•œ ê³¨ë“œ ì£¼ì–¼ë¦¬.",
            perfume: "ì‹œë‚˜ëª¬, ì§„í•œ ìš°ë”” í–¥, ë ˆë” í–¥.",
            colors: ["#8B0000", "#556B2F", "#D2691E", "#3D2B1F", "#800000"]
        },
        "Winter Bright": {
            summary: "ê°•ë ¬í•œ ëŒ€ë¹„ê°ê³¼ ì„ ëª…í•œ ì»¬ëŸ¬ê°€ ë„ì‹œì ì´ê³  ì„¸ë ¨ëœ ì¸ìƒì„ ì¤ë‹ˆë‹¤.",
            makeup: "í‘¸ì‹œì•„ í•‘í¬, ì¨í•œ ë ˆë“œ ë¦½, ê¹”ë”í•œ ë¸”ë™ ë¼ì´ë„ˆ.",
            fashion: "ë¸”ë™ & í™”ì´íŠ¸ ëŒ€ë¹„, ë„¤ì˜¨ ì»¬ëŸ¬ í¬ì¸íŠ¸, ì‹¤í¬ ì†Œì¬.",
            hair: "í‘ë°œ, í™”ì´íŠ¸ ê³¨ë“œ ë˜ëŠ” ë³¼ë“œí•œ ì‹¤ë²„ ì£¼ì–¼ë¦¬.",
            perfume: "ê°•ë ¬í•œ ì¥ë¯¸, ìŠ¤íŒŒì´ì‹œí•œ ë¸”ë™ í˜í¼.",
            colors: ["#FF00FF", "#0000FF", "#FFFFFF", "#000000", "#191970"]
        },
        "Winter Deep": {
            summary: "í•œê²¨ìš¸ ë°¤ì˜ ì°¨ê°‘ê³  ë¬µì§í•œ ì»¬ëŸ¬ë“¤ì´ ì••ë„ì ì¸ ì•„ìš°ë¼ë¥¼ ë§Œë“­ë‹ˆë‹¤.",
            makeup: "ê²€ë¶‰ì€ ë²„ê±´ë”” ë¦½, í¼í”Œ ìŒì˜, ê¹¨ë—í•œ í”¼ë¶€ í‘œí˜„.",
            fashion: "ë„¤ì´ë¹„ ì½”íŠ¸, ë”¥ í¼í”Œ ë“œë ˆìŠ¤, íŠ¸ìœ„ë“œ ì†Œì¬.",
            hair: "ë¸”ë£¨ ë¸”ë™, ì§„ì£¼ ë˜ëŠ” ë‹¤ì´ì•„ëª¬ë“œ ì•¡ì„¸ì„œë¦¬.",
            perfume: "ì•°ë²„, ë¬µì§í•œ ì¸ì„¼ìŠ¤ í–¥.",
            colors: ["#4B0082", "#000080", "#2E0854", "#120E43", "#010B13"]
        }
    };

    /* ìƒíƒœ ë³€ìˆ˜ */
    let currentStep = 0;
    let userVotes = [];
    let sensorData = {};

    /* ë¡œì§ í•¨ìˆ˜ */
    function toStep2() {
        const l = document.getElementById('lab-l').value;
        const a = document.getElementById('lab-a').value;
        const b = document.getElementById('lab-b').value;
        if(!l || !a || !b) return alert("ì¸¡ìƒ‰ê¸° ìˆ˜ì¹˜ë¥¼ ëª¨ë‘ ì…ë ¥í•˜ì„¸ìš”.");
        sensorData = { l: parseFloat(l), a: parseFloat(a), b: parseFloat(b) };
        switchStep(2);
    }

    function handleImage(e) {
        const reader = new FileReader();
        reader.onload = function() {
            document.getElementById('temp-img').src = reader.result;
            document.getElementById('user-img').src = reader.result;
            document.getElementById('preview-area').style.display = "block";
        }
        reader.readAsDataURL(e.target.files[0]);
    }

    function toStep3() { switchStep(3); updateDrape(); }

    function switchStep(n) {
        document.querySelectorAll('.step-content').forEach(s => s.classList.remove('active'));
        document.getElementById('step-' + n).classList.add('active');
    }

    function updateDrape() {
        if(currentStep < drapeList.length) {
            const color = drapeList[currentStep];
            document.getElementById('cloth').style.backgroundColor = color.hex;
            document.getElementById('color-info').innerText = `${currentStep + 1}/20 - ${color.name}`;
            document.getElementById('pg-bar').style.width = `${((currentStep + 1) / 20) * 100}%`;
        } else {
            calculateFinal();
        }
    }

    function vote(isGood) {
        userVotes.push({ ...drapeList[currentStep], isGood });
        currentStep++;
        updateDrape();
    }

    function calculateFinal() {
        switchStep(4);
        const { l, a, b } = sensorData;
        
        // ì›œ/ì¿¨ ìŠ¤ì½”ì–´ë§ (ê¸°ê³„ê°’ 50% + ë“œë ˆì´í•‘ 50%)
        let warmScore = (b > 17.5 ? 50 : 0);
        const userWarmVotes = userVotes.filter(v => v.type === 'W' && v.isGood).length;
        const userCoolVotes = userVotes.filter(v => v.type === 'C' && v.isGood).length;
        warmScore += (userWarmVotes / 10) * 50;

        let finalType = "";
        const isWarm = warmScore > 50;

        // ëª…ë„ ë° ì±„ë„ ì¡°í•© ë¡œì§
        if(isWarm) {
            if(l > 68) finalType = userWarmVotes > 7 ? "Spring Bright" : "Spring Light";
            else finalType = userCoolVotes > 4 ? "Autumn Mute" : "Autumn Deep";
        } else {
            if(l > 65) finalType = userCoolVotes > 7 ? "Summer Light" : "Summer Mute";
            else finalType = userWarmVotes < 3 ? "Winter Bright" : "Winter Deep";
        }

        // ê²°ê³¼ ë°”ì¸ë”©
        const data = typeDetails[finalType];
        document.getElementById('res-season').innerText = finalType.toUpperCase();
        document.getElementById('res-summary').innerText = data.summary;
        document.getElementById('stat-l').innerText = l;
        document.getElementById('stat-temp').innerText = warmScore + "%";
        
        document.getElementById('guide-makeup').innerText = data.makeup;
        document.getElementById('guide-fashion').innerText = data.fashion;
        document.getElementById('guide-hair').innerText = data.hair;
        document.getElementById('guide-perfume').innerText = data.perfume;

        const palette = document.getElementById('palette');
        palette.innerHTML = "";
        data.colors.forEach(c => {
            const chip = document.createElement('div');
            chip.className = 'palette-chip';
            chip.style.backgroundColor = c;
            palette.appendChild(chip);
        });
    }
</script>

</body>
</html>
