<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE COVE PREMIUM - ìµœì¢… ì§„ë‹¨ ê²°ê³¼</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body style="margin:0;font-family:-apple-system,sans-serif;background:#fafafa;">
<div style="max-width:1400px;margin:0 auto;padding:3rem 2rem;">
    <!-- Progress -->
    <div style="width:100%;height:6px;background:rgba(255,215,0,0.2);border-radius:3px;margin-bottom:3rem;">
        <div style="height:100%;background:linear-gradient(90deg,#FFD700,#FFA500);width:100%;"></div>
    </div>

    <!-- Header -->
    <div style="text-align:center;margin-bottom:4rem;">
        <div style="font-size:0.875rem;letter-spacing:0.3em;color:#FFA500;margin-bottom:1rem;">
            <span style="background:linear-gradient(135deg,#FFD700,#FFA500);color:white;padding:0.3rem 0.8rem;border-radius:12px;font-size:0.7rem;font-weight:700;">PREMIUM</span>
        </div>
        <h1 style="font-size:3rem;margin:0 0 1rem 0;">ğŸ¨ í¼ìŠ¤ë„ ì»¬ëŸ¬ ì§„ë‹¨ ì™„ë£Œ</h1>
        <p style="font-size:1.2rem;color:#666;">7-Layer ìƒì²´ ë°ì´í„° ë¶„ì„ ê¸°ë°˜</p>
    </div>

    <!-- Final Type -->
    <div style="background:linear-gradient(135deg,#FFD700,#FFA500);color:white;border-radius:20px;padding:4rem 3rem;text-align:center;margin-bottom:3rem;box-shadow:0 10px 40px rgba(255,215,0,0.4);">
        <h2 style="font-size:2rem;margin:0 0 2rem 0;font-weight:400;">ë‹¹ì‹ ì˜ í¼ìŠ¤ë„ ì»¬ëŸ¬ëŠ”</h2>
        <div id="finalType" style="font-size:4rem;font-weight:700;margin-bottom:2rem;">-</div>
        <div style="display:flex;justify-content:center;gap:3rem;flex-wrap:wrap;">
            <div>
                <div style="font-size:0.9rem;opacity:0.9;margin-bottom:0.3rem;">ì¸¡ìƒ‰ ë¶„ì„ (40%)</div>
                <div id="step1Conf" style="font-size:2rem;font-weight:700;">-</div>
            </div>
            <div>
                <div style="font-size:0.9rem;opacity:0.9;margin-bottom:0.3rem;">ë“œë ˆì´í•‘ (60%)</div>
                <div id="step2Conf" style="font-size:2rem;font-weight:700;">-</div>
            </div>
            <div style="border-left:2px solid rgba(255,255,255,0.3);padding-left:3rem;">
                <div style="font-size:0.9rem;opacity:0.9;margin-bottom:0.3rem;">ì¢…í•© ì‹ ë¢°ë„</div>
                <div id="totalConf" style="font-size:2.5rem;font-weight:700;">-</div>
            </div>
        </div>
    </div>

    <!-- Analysis Logic -->
    <div style="background:white;border-radius:16px;padding:3rem;margin-bottom:3rem;box-shadow:0 4px 20px rgba(0,0,0,0.08);">
        <h3 style="font-size:2rem;margin:0 0 2rem 0;border-bottom:3px solid #FFD700;padding-bottom:1rem;">ğŸ§® ì§„ë‹¨ ë¡œì§ ìƒì„¸</h3>
        
        <div style="background:#f9f9f9;padding:2rem;border-radius:12px;margin-bottom:2rem;">
            <h4 style="font-size:1.3rem;margin:0 0 1rem 0;color:#333;">ğŸ“ ìµœì¢… íƒ€ì… ê³„ì‚° ê³µì‹</h4>
            <div style="font-family:monospace;background:white;padding:1.5rem;border-radius:8px;font-size:0.95rem;line-height:1.8;color:#666;border-left:4px solid #FFD700;">
                ìµœì¢… ì‹ ë¢°ë„ = (Step1 ì¸¡ìƒ‰ ì‹ ë¢°ë„ Ã— 0.4) + (Step2 ë“œë ˆì´í•‘ ì‹ ë¢°ë„ Ã— 0.6)<br><br>
                <strong style="color:#333;">ê°€ì¤‘ì¹˜ ì´ìœ :</strong><br>
                â€¢ ì¸¡ìƒ‰(40%): ê°ê´€ì  ë°ì´í„°ì´ë‚˜ ì¡°ëª…/ìƒíƒœì— ì˜í–¥<br>
                â€¢ ë“œë ˆì´í•‘(60%): ì‹¤ì œ ì°©ìš© í…ŒìŠ¤íŠ¸ë¡œ ë” ë†’ì€ ê°€ì¤‘ì¹˜<br><br>
                <strong style="color:#333;">Step3 ìƒì²´ ë°ì´í„°ëŠ”?</strong><br>
                â†’ ëŒ€ë¹„ê°/ìŠ¤íƒ€ì¼ë§ ì „ëµìœ¼ë¡œ í™œìš© (íƒ€ì… ê²°ì •ì—” ë¯¸ë°˜ì˜)
            </div>
        </div>

        <div id="calculationDetail"></div>
    </div>

    <!-- 7-Layer Biometric Data -->
    <div style="background:white;border-radius:16px;padding:3rem;margin-bottom:3rem;box-shadow:0 4px 20px rgba(0,0,0,0.08);">
        <h3 style="font-size:2rem;margin:0 0 2rem 0;border-bottom:3px solid #FFD700;padding-bottom:1rem;">ğŸ”¬ 7-Layer ìƒì²´ ë°ì´í„°</h3>
        
        <!-- Step 1: Lab Data -->
        <div style="background:#f9f9f9;padding:2rem;border-radius:12px;margin-bottom:2rem;">
            <h4 style="font-size:1.3rem;margin:0 0 1rem 0;color:#333;">ğŸ“Š STEP 1: í”¼ë¶€ ì¸¡ìƒ‰ (4ë¶€ìœ„)</h4>
            <div id="step1Data"></div>
        </div>

        <!-- Step 2: Draping -->
        <div style="background:#f9f9f9;padding:2rem;border-radius:12px;margin-bottom:2rem;">
            <h4 style="font-size:1.3rem;margin:0 0 1rem 0;color:#333;">ğŸ­ STEP 2: ë“œë ˆì´í•‘ (3íšŒì°¨)</h4>
            <div id="step2Data"></div>
        </div>

        <!-- Step 3: Hair (3-layer) -->
        <div style="background:#f9f9f9;padding:2rem;border-radius:12px;margin-bottom:2rem;">
            <h4 style="font-size:1.3rem;margin:0 0 1rem 0;color:#333;">ğŸ’‡ STEP 3-A: ëª¨ë°œ 3-Layer ë¶„ì„</h4>
            <div id="hairData"></div>
        </div>

        <!-- Step 3: Eye (4-layer) -->
        <div style="background:#f9f9f9;padding:2rem;border-radius:12px;">
            <h4 style="font-size:1.3rem;margin:0 0 1rem 0;color:#333;">ğŸ‘ï¸ STEP 3-B: í™ì±„ Golden Circle (4-Layer)</h4>
            <div id="eyeData"></div>
        </div>
    </div>

    <!-- Best Colors -->
    <div style="background:white;border-radius:16px;padding:3rem;margin-bottom:3rem;box-shadow:0 4px 20px rgba(0,0,0,0.08);">
        <h3 style="font-size:2rem;margin:0 0 2rem 0;border-bottom:3px solid #FFD700;padding-bottom:1rem;">ğŸŒˆ ë² ìŠ¤íŠ¸ ì»¬ëŸ¬ íŒ”ë ˆíŠ¸</h3>
        <div id="bestColors" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:1rem;"></div>
    </div>

    <!-- Worst Colors -->
    <div style="background:white;border-radius:16px;padding:3rem;margin-bottom:3rem;box-shadow:0 4px 20px rgba(0,0,0,0.08);">
        <h3 style="font-size:2rem;margin:0 0 2rem 0;border-bottom:3px solid #FF6B6B;padding-bottom:1rem;">âš ï¸ í”¼í•´ì•¼ í•  ì»¬ëŸ¬</h3>
        <div id="worstColors" style="display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:1rem;"></div>
    </div>

    <!-- Styling Guide -->
    <div style="background:white;border-radius:16px;padding:3rem;margin-bottom:3rem;box-shadow:0 4px 20px rgba(0,0,0,0.08);">
        <h3 style="font-size:2rem;margin:0 0 2rem 0;border-bottom:3px solid #FFD700;padding-bottom:1rem;">ğŸ’„ ë§ì¶¤ ìŠ¤íƒ€ì¼ë§ ê°€ì´ë“œ</h3>
        <div id="stylingGuide"></div>
    </div>

    <!-- Contrast Strategy -->
    <div style="background:white;border-radius:16px;padding:3rem;margin-bottom:3rem;box-shadow:0 4px 20px rgba(0,0,0,0.08);">
        <h3 style="font-size:2rem;margin:0 0 2rem 0;border-bottom:3px solid #FFD700;padding-bottom:1rem;">âœ¨ ëŒ€ë¹„ê° ê¸°ë°˜ ì „ëµ</h3>
        <div id="contrastStrategy"></div>
    </div>

    <!-- Actions -->
    <div style="display:flex;gap:1rem;justify-content:center;flex-wrap:wrap;">
        <button onclick="downloadPDF()" style="padding:1rem 2.5rem;font-size:1rem;border:none;border-radius:8px;cursor:pointer;background:linear-gradient(135deg,#FFD700,#FFA500);color:white;font-weight:600;box-shadow:0 4px 15px rgba(255,215,0,0.3);">
            ğŸ“¥ PDF ë‹¤ìš´ë¡œë“œ
        </button>
        <button onclick="restart()" style="padding:1rem 2.5rem;font-size:1rem;border:none;border-radius:8px;cursor:pointer;background:#e0e0e0;color:#333;">
            ğŸ”„ ë‹¤ì‹œ ì§„ë‹¨í•˜ê¸°
        </button>
    </div>
</div>

<script>
const typeData={
    light_spring:{name:'ë¼ì´íŠ¸ ë´„',colors:['#FFE4E1','#FFB6C1','#FFD700','#98FB98','#E0FFFF'],worst:['#000000','#2F4F4F','#8B4513']},
    bright_spring:{name:'ë¸Œë¼ì´íŠ¸ ë´„',colors:['#FF6347','#FFD700','#00CED1','#FF69B4','#7FFF00'],worst:['#696969','#8B4513','#2F4F4F']},
    warm_spring:{name:'ì›œ ë´„',colors:['#FF8C00','#FFD700','#ADFF2F','#FF6347','#FFA07A'],worst:['#191970','#000080','#4B0082']},
    light_summer:{name:'ë¼ì´íŠ¸ ì—¬ë¦„',colors:['#E6E6FA','#B0C4DE','#FFB6C1','#DDA0DD','#F0E68C'],worst:['#FF8C00','#FF4500','#8B4513']},
    soft_summer:{name:'ì†Œí”„íŠ¸ ì—¬ë¦„',colors:['#D8BFD8','#B0C4DE','#DDA0DD','#BC8F8F','#F5DEB3'],worst:['#FF0000','#FF8C00','#000000']},
    cool_summer:{name:'ì¿¨ ì—¬ë¦„',colors:['#B0C4DE','#9370DB','#FFB6C1','#DDA0DD','#E0FFFF'],worst:['#FF8C00','#D2691E','#8B4513']},
    soft_autumn:{name:'ì†Œí”„íŠ¸ ê°€ì„',colors:['#BC8F8F','#D2B48C','#BDB76B','#8FBC8F','#DDA0DD'],worst:['#FF1493','#00FFFF','#00FF00']},
    warm_autumn:{name:'ì›œ ê°€ì„',colors:['#D2691E','#CD853F','#BDB76B','#F4A460','#DEB887'],worst:['#00FFFF','#FF1493','#7FFF00']},
    deep_autumn:{name:'ë”¥ ê°€ì„',colors:['#8B4513','#A0522D','#6B8E23','#8B0000','#B8860B'],worst:['#FFB6C1','#E0FFFF','#F0E68C']},
    cool_winter:{name:'ì¿¨ ê²¨ìš¸',colors:['#000080','#4169E1','#FF1493','#8B008B','#E0FFFF'],worst:['#FF8C00','#FFD700','#F4A460']},
    bright_winter:{name:'ë¸Œë¼ì´íŠ¸ ê²¨ìš¸',colors:['#FF0000','#0000FF','#FF1493','#00FFFF','#FFFFFF'],worst:['#BC8F8F','#D2B48C','#BDB76B']},
    deep_winter:{name:'ë”¥ ê²¨ìš¸',colors:['#000000','#8B0000','#191970','#FF1493','#FFFFFF'],worst:['#FFE4E1','#F5DEB3','#FFDAB9']}
};

const stylingData={
    spring:{makeup:'â€¢ ë¦½: ì½”ë„, í”¼ì¹˜, ì˜¤ë Œì§€<br>â€¢ ì„€ë„ìš°: ë¸Œë¡ ì¦ˆ, ê³¨ë“œ<br>â€¢ ë¸”ëŸ¬ì…”: ì½”ë„ í•‘í¬',fashion:'â€¢ ë°ê³  í™”ì‚¬í•œ ìƒ‰<br>â€¢ í¬ë¦¼, ì¹´í‚¤<br>â€¢ í”Œë¡œëŸ´ íŒ¨í„´',accessory:'â€¢ ê³¨ë“œ ì£¼ì–¼ë¦¬<br>â€¢ ë‚˜ë¬´, ê°€ì£½ ì†Œì¬'},
    summer:{makeup:'â€¢ ë¦½: ë¡œì¦ˆ, ë¼ë²¤ë”, í•‘í¬<br>â€¢ ì„€ë„ìš°: ì‹¤ë²„, ê·¸ë ˆì´<br>â€¢ ë¸”ëŸ¬ì…”: ë¡œì¦ˆ í•‘í¬',fashion:'â€¢ ì¿¨í•˜ê³  ë¶€ë“œëŸ¬ìš´ ìƒ‰<br>â€¢ ë„¤ì´ë¹„, ê·¸ë ˆì´<br>â€¢ ì‹¬í”Œ íŒ¨í„´',accessory:'â€¢ ì‹¤ë²„ ì£¼ì–¼ë¦¬<br>â€¢ ì§„ì£¼, ìˆ˜ì •'},
    autumn:{makeup:'â€¢ ë¦½: ë¸Œë¦­, ë¸Œë¼ìš´, í…Œë¼ì½”íƒ€<br>â€¢ ì„€ë„ìš°: ë¸Œë¡ ì¦ˆ, ì¹´í‚¤<br>â€¢ ë¸”ëŸ¬ì…”: í”¼ì¹˜ ë² ì´ì§€',fashion:'â€¢ ë”°ëœ»í•˜ê³  ê¹Šì€ ìƒ‰<br>â€¢ ì¹´í‚¤, ë¸Œë¼ìš´, ì™€ì¸<br>â€¢ ì²´í¬ íŒ¨í„´',accessory:'â€¢ ê³¨ë“œ, ë¸Œë¡ ì¦ˆ<br>â€¢ ê°€ì£½, ë‚˜ë¬´ ì†Œì¬'},
    winter:{makeup:'â€¢ ë¦½: ë²„ê±´ë””, ë ˆë“œ, í•«í•‘í¬<br>â€¢ ì„€ë„ìš°: ë¸”ë™, ì‹¤ë²„<br>â€¢ ë¸”ëŸ¬ì…”: í•‘í¬ (ë˜ë ·)',fashion:'â€¢ ì„ ëª…í•˜ê³  ê°•ë ¬í•œ ìƒ‰<br>â€¢ ë¸”ë™, í™”ì´íŠ¸<br>â€¢ ëª¨ë˜ íŒ¨í„´',accessory:'â€¢ ì‹¤ë²„, í”Œë˜í‹°ë„˜<br>â€¢ í¬ë¦¬ìŠ¤íƒˆ'}
};

function calculateFinal(){
    const saved=JSON.parse(localStorage.getItem('personalColorData_premium')||'{}');
    
    if(!saved.step1||!saved.step2){
        alert('ì§„ë‹¨ ë°ì´í„° ì—†ìŒ');
        window.location.href='pcolor_pre1.html';
        return;
    }

    // Step1: 40%
    const step1Top=saved.step1.top3[0];
    const step1Conf=step1Top.score;

    // Step2: 60%
    const step2Scores=saved.step2.scores;
    const step2Sorted=Object.entries(step2Scores).sort((a,b)=>b[1]-a[1]);
    const step2Type=step2Sorted[0][0];
    const step2Score=step2Sorted[0][1];
    const step2Conf=Math.min(100,(step2Score/60)*100);

    // Final
    const finalType=step2Type;
    const totalConf=Math.round((step1Conf*0.4)+(step2Conf*0.6));

    // Display
    document.getElementById('finalType').textContent=typeData[finalType].name;
    document.getElementById('step1Conf').textContent=Math.round(step1Conf)+'%';
    document.getElementById('step2Conf').textContent=Math.round(step2Conf)+'%';
    document.getElementById('totalConf').textContent=totalConf+'%';

    // Calculation Detail
    document.getElementById('calculationDetail').innerHTML=`
        <div style="background:white;padding:2rem;border-radius:12px;border:2px solid #FFD700;">
            <h4 style="font-size:1.2rem;margin:0 0 1rem 0;color:#333;">ğŸ’¡ ê³„ì‚° ê³¼ì •</h4>
            <div style="font-family:monospace;font-size:0.95rem;color:#666;line-height:1.8;">
                <strong>Step 1 (ì¸¡ìƒ‰):</strong><br>
                â€¢ TOP1: ${step1Top.name} (${step1Top.score}ì )<br>
                â€¢ ê°€ì¤‘ì¹˜: ${step1Top.score} Ã— 0.4 = ${(step1Top.score*0.4).toFixed(1)}ì <br><br>
                
                <strong>Step 2 (ë“œë ˆì´í•‘):</strong><br>
                â€¢ ìµœì¢… ì„ íƒ: ${typeData[step2Type].name} (${step2Score}ì )<br>
                â€¢ ì‹ ë¢°ë„: ${step2Conf.toFixed(1)}%<br>
                â€¢ ê°€ì¤‘ì¹˜: ${step2Conf.toFixed(1)} Ã— 0.6 = ${(step2Conf*0.6).toFixed(1)}ì <br><br>
                
                <strong style="color:#FFA500;font-size:1.1rem;">ìµœì¢…: ${(step1Conf*0.4).toFixed(1)} + ${(step2Conf*0.6).toFixed(1)} = ${totalConf}%</strong>
            </div>
        </div>
    `;

    // Step1 Data
    document.getElementById('step1Data').innerHTML=`
        <div style="color:#666;line-height:1.8;">
            â€¢ í‰ê·  L: ${saved.step1.average.l.toFixed(1)} (ëª…ë„)<br>
            â€¢ í‰ê·  A: ${saved.step1.average.a.toFixed(1)} (ë¶‰ì€ê¸°)<br>
            â€¢ í‰ê·  B: ${saved.step1.average.b.toFixed(1)} (ë…¸ë€ê¸°)<br>
            â€¢ ì±„ë„: ${Math.sqrt(saved.step1.average.a**2+saved.step1.average.b**2).toFixed(1)}<br><br>
            <strong>TOP 3 í›„ë³´:</strong><br>
            1. ${saved.step1.top3[0].name} (${saved.step1.top3[0].conf})<br>
            2. ${saved.step1.top3[1].name} (${saved.step1.top3[1].conf})<br>
            3. ${saved.step1.top3[2].name} (${saved.step1.top3[2].conf})
        </div>
    `;

    // Step2 Data
    const top3Draping=step2Sorted.slice(0,3);
    document.getElementById('step2Data').innerHTML=`
        <div style="color:#666;line-height:1.8;">
            <strong>3íšŒ í† ë„ˆë¨¼íŠ¸ ê²°ê³¼:</strong><br>
            1. ${typeData[top3Draping[0][0]].name} (${top3Draping[0][1]}ì )<br>
            2. ${typeData[top3Draping[1][0]].name} (${top3Draping[1][1]}ì )<br>
            3. ${typeData[top3Draping[2][0]].name} (${top3Draping[2][1]}ì )
        </div>
    `;

    // Step3 Hair
    if(saved.step3){
        const hair=saved.step3;
        document.getElementById('hairData').innerHTML=`
            <div style="color:#666;line-height:1.8;">
                <strong>Layer 1 - Depth:</strong> ${hair.hairDepth.name} (L:${hair.hairDepth.l})<br>
                <strong>Layer 2 - Melanin:</strong> ${hair.hairMelanin.name} (A:${hair.hairMelanin.a}, B:${hair.hairMelanin.b})<br>
                <strong>Layer 3 - Gloss:</strong> ${hair.hairGloss.name}<br><br>
                <div style="background:#fffbf0;padding:1rem;border-radius:8px;border-left:4px solid #FFD700;">
                    <strong>ì†Œì¬ ì¶”ì²œ:</strong> ${hair.hairGloss.level==='high'?'ì‹¤í¬, ìƒˆí‹´, ì‹œí°':hair.hairGloss.level==='medium'?'ë©´, ë¦°ë„¨, ì €ì§€':'ìš¸, íŠ¸ìœ„ë“œ, ë²¨ë²³'}
                </div>
            </div>
        `;

        // Step3 Eye
        document.getElementById('eyeData').innerHTML=`
            <div style="color:#666;line-height:1.8;">
                <strong>Layer 1 - Depth:</strong> ${hair.eyeDepth.name} (L:${hair.eyeDepth.l})<br>
                <strong>Layer 2 - Contrast:</strong> ${hair.eyeContrast.name} (${hair.eyeContrast.score>0?'+':''} ${hair.eyeContrast.score}ì )<br>
                <strong>Layer 3 - Pattern:</strong> ${hair.eyePattern.name}<br>
                <strong>Layer 4 - Sclera:</strong> ${hair.eyeSclera.name} (${hair.eyeSclera.score>0?'+':''} ${hair.eyeSclera.score}ì )<br><br>
                <div style="background:#fffbf0;padding:1rem;border-radius:8px;border-left:4px solid #4A90E5;">
                    <strong>íƒ€ì… íŒíŠ¸:</strong><br>
                    ${hair.eyeContrast.level==='high'?'â€¢ ë¸Œë¼ì´íŠ¸ íƒ€ì… ê°€ëŠ¥ì„± â†‘<br>':''}
                    ${hair.eyeContrast.level==='low'?'â€¢ ì†Œí”„íŠ¸ íƒ€ì… ê°€ëŠ¥ì„± â†‘<br>':''}
                    ${hair.eyePattern.season==='spring_winter'?'â€¢ ë´„/ê²¨ìš¸ (ì²­ìƒ‰ ê³„ì ˆ) â†‘<br>':''}
                    ${hair.eyePattern.season==='summer_autumn'?'â€¢ ì—¬ë¦„/ê°€ì„ (íƒìƒ‰ ê³„ì ˆ) â†‘<br>':''}
                    ${hair.eyeSclera.type==='blue'?'â€¢ ì¿¨í†¤ ë³´ì •':''}
                    ${hair.eyeSclera.type==='ivory'?'â€¢ ì›œí†¤ ë³´ì •':''}
                </div>
            </div>
        `;

        // Contrast Strategy
        const contrast=saved.step3.contrast;
        document.getElementById('contrastStrategy').innerHTML=`
            <div style="background:linear-gradient(135deg,#FFD700,#FFA500);color:white;padding:2rem;border-radius:12px;text-align:center;margin-bottom:2rem;">
                <div style="font-size:1.3rem;margin-bottom:0.5rem;">ì¢…í•© ëŒ€ë¹„ê°</div>
                <div style="font-size:3rem;font-weight:700;margin-bottom:0.5rem;">${Math.round(contrast.score)}</div>
                <div style="font-size:1.2rem;font-weight:600;">${contrast.level}</div>
            </div>
            <div style="background:#f9f9f9;padding:2rem;border-radius:12px;">
                <h4 style="font-size:1.2rem;margin:0 0 1rem 0;color:#333;">ë§ì¶¤ ì „ëµ</h4>
                <div style="color:#666;line-height:1.8;">
                    ${contrast.level==='HIGH CONTRAST'?'â€¢ ì„ ëª…í•˜ê³  ê°•ë ¬í•œ ìƒ‰ìƒ ì¶”ì²œ<br>â€¢ ê³¨ë“œ/ì‹¤ë²„ ì•¡ì„¸ì„œë¦¬<br>â€¢ ëŒ€ë‹´í•œ ì»¬ëŸ¬ ë¸”ë¡œí‚¹':
                      contrast.level==='MEDIUM CONTRAST'?'â€¢ ì„ ëª…~ë¶€ë“œëŸ¬ìš´ ìƒ‰ ëª¨ë‘ ê°€ëŠ¥<br>â€¢ ë‹¤ì–‘í•œ ìŠ¤íƒ€ì¼ ì—°ì¶œ<br>â€¢ í†¤ì˜¨í†¤ or í¬ì¸íŠ¸ ì»¬ëŸ¬':
                      'â€¢ ë¶€ë“œëŸ½ê³  ì€ì€í•œ ìƒ‰ìƒ<br>â€¢ ë®¤íŠ¸ í†¤, íŒŒìŠ¤í…”<br>â€¢ ì‘ê³  ì„¬ì„¸í•œ ì•¡ì„¸ì„œë¦¬'}
                </div>
            </div>
        `;
    }

    // Colors
    const colors=typeData[finalType].colors;
    document.getElementById('bestColors').innerHTML=colors.map(c=>`
        <div style="background:${c};height:100px;border-radius:8px;display:flex;align-items:flex-end;justify-content:center;padding:0.5rem;color:${getBright(c)>128?'#333':'#fff'};font-size:0.75rem;font-weight:600;">${c}</div>
    `).join('');

    const worst=typeData[finalType].worst;
    document.getElementById('worstColors').innerHTML=worst.map(c=>`
        <div style="background:${c};height:100px;border-radius:8px;display:flex;align-items:flex-end;justify-content:center;padding:0.5rem;color:${getBright(c)>128?'#333':'#fff'};font-size:0.75rem;font-weight:600;opacity:0.7;">${c}</div>
    `).join('');

    // Styling
    const season=finalType.includes('spring')?'spring':finalType.includes('summer')?'summer':finalType.includes('autumn')?'autumn':'winter';
    const guide=stylingData[season];
    document.getElementById('stylingGuide').innerHTML=`
        <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:2rem;">
            <div style="background:#f9f9f9;padding:2rem;border-radius:12px;">
                <h4 style="font-size:1.3rem;margin:0 0 1rem 0;color:#333;">ğŸ’„ ë©”ì´í¬ì—…</h4>
                <div style="color:#666;font-size:0.95rem;line-height:1.8;">${guide.makeup}</div>
            </div>
            <div style="background:#f9f9f9;padding:2rem;border-radius:12px;">
                <h4 style="font-size:1.3rem;margin:0 0 1rem 0;color:#333;">ğŸ‘— íŒ¨ì…˜</h4>
                <div style="color:#666;font-size:0.95rem;line-height:1.8;">${guide.fashion}</div>
            </div>
            <div style="background:#f9f9f9;padding:2rem;border-radius:12px;">
                <h4 style="font-size:1.3rem;margin:0 0 1rem 0;color:#333;">ğŸ’ ì•¡ì„¸ì„œë¦¬</h4>
                <div style="color:#666;font-size:0.95rem;line-height:1.8;">${guide.accessory}</div>
            </div>
        </div>
    `;
}

function getBright(hex){
    const r=parseInt(hex.substr(1,2),16);
    const g=parseInt(hex.substr(3,2),16);
    const b=parseInt(hex.substr(5,2),16);
    return(r*299+g*587+b*114)/1000;
}

function downloadPDF(){alert('PDF ë‹¤ìš´ë¡œë“œ ì¤€ë¹„ ì¤‘');}
function restart(){localStorage.removeItem('personalColorData_premium');window.location.href='./';}

window.onload=calculateFinal;
</script>
</body>
</html>
